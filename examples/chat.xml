<gui>
    <elements>
        <element id="chat_area" type="HTML">
            <div id="chat_area" style="width: 100%; height: 100%; overflow:scroll;"></div>
            <input type="text" name="text" style="width:100%" onkeypress="%js submitOnEnter(this, event)"></input>
        </element>
        
        <element id="chat_script" type="script">
            function messageReceived(text) {
                var p = document.createElement('p');
                p.innerHTML = text;
                document.getElementById('chat_area').appendChild(p);
            }    

            function submitOnEnter(inputElement, event) {
                if(event.keyCode == 13) {
                    phCall("postMessage('{0}', %client_id%)", inputElement.value)
                }
            }
        </element>
    </elements>
  
  <interfaces>
    <interface minWidth="0" minHeight="0" id="default">
      <portrait layout="vertical">
        <element width="100%" height="100%" id="chat_area"/>
        <element id="chat_script"/>
      </portrait>
    </interface>
  </interfaces>
</gui>